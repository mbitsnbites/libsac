// -*- Mode: c++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*-
//-----------------------------------------------------------------------------
// Copyright (c) 2014 Marcus Geelnard
//
// This software is provided 'as-is', without any express or implied
// warranty. In no event will the authors be held liable for any damages
// arising from the use of this software.
//
// Permission is granted to anyone to use this software for any purpose,
// including commercial applications, and to alter it and redistribute it
// freely, subject to the following restrictions:
//
//     1. The origin of this software must not be misrepresented; you must not
//     claim that you wrote the original software. If you use this software
//     in a product, an acknowledgment in the product documentation would be
//     appreciated but is not required.
//
//     2. Altered source versions must be plainly marked as such, and must not
//     be misrepresented as being the original software.
//
//     3. This notice may not be removed or altered from any source
//     distribution.
//-----------------------------------------------------------------------------

namespace sac {

namespace dd4a {

extern const short kQuantLut[64][16] = {
  // Linear part slope: 1
  {
    1,2,3,4,5,6,7,8,
    -1,-2,-3,-4,-5,-6,-7,-8
  },
  // Linear part slope: 2
  {
    1,3,4,6,9,12,16,22,
    -1,-3,-4,-6,-9,-12,-16,-22
  },
  // Linear part slope: 4.66667
  {
    2,6,10,15,20,26,33,46,
    -2,-6,-10,-15,-20,-26,-33,-46
  },
  // Linear part slope: 8
  {
    3,11,19,27,35,44,55,74,
    -3,-11,-19,-27,-35,-44,-55,-74
  },
  // Linear part slope: 11.3333
  {
    5,17,29,40,51,64,80,106,
    -5,-17,-29,-40,-51,-64,-80,-106
  },
  // Linear part slope: 16
  {
    7,23,39,55,71,88,109,143,
    -7,-23,-39,-55,-71,-88,-109,-143
  },
  // Linear part slope: 20
  {
    10,30,50,70,90,112,137,180,
    -10,-30,-50,-70,-90,-112,-137,-180
  },
  // Linear part slope: 24.3333
  {
    12,35,59,84,108,134,166,217,
    -12,-35,-59,-84,-108,-134,-166,-217
  },
  // Linear part slope: 29
  {
    14,42,71,99,129,160,198,259,
    -14,-42,-71,-99,-129,-160,-198,-259
  },
  // Linear part slope: 34
  {
    16,49,83,117,151,188,232,304,
    -16,-49,-83,-117,-151,-188,-232,-304
  },
  // Linear part slope: 39
  {
    19,56,94,133,173,216,267,349,
    -19,-56,-94,-133,-173,-216,-267,-349
  },
  // Linear part slope: 44.6667
  {
    21,64,108,152,198,248,306,401,
    -21,-64,-108,-152,-198,-248,-306,-401
  },
  // Linear part slope: 50.3333
  {
    24,73,122,172,224,280,346,453,
    -24,-73,-122,-172,-224,-280,-346,-453
  },
  // Linear part slope: 56.3333
  {
    27,81,136,191,250,312,387,506,
    -27,-81,-136,-191,-250,-312,-387,-506
  },
  // Linear part slope: 62.6667
  {
    30,90,151,213,278,348,431,565,
    -30,-90,-151,-213,-278,-348,-431,-565
  },
  // Linear part slope: 69.6667
  {
    33,100,167,236,309,386,479,627,
    -33,-100,-167,-236,-309,-386,-479,-627
  },
  // Linear part slope: 77
  {
    36,110,185,261,341,428,531,696,
    -36,-110,-185,-261,-341,-428,-531,-696
  },
  // Linear part slope: 84.6667
  {
    40,120,202,286,374,470,584,764,
    -40,-120,-202,-286,-374,-470,-584,-764
  },
  // Linear part slope: 92.3333
  {
    43,131,220,312,408,513,639,838,
    -43,-131,-220,-312,-408,-513,-639,-838
  },
  // Linear part slope: 101.667
  {
    48,144,242,342,449,565,703,922,
    -48,-144,-242,-342,-449,-565,-703,-922
  },
  // Linear part slope: 111
  {
    52,157,264,374,490,618,770,1011,
    -52,-157,-264,-374,-490,-618,-770,-1011
  },
  // Linear part slope: 121
  {
    57,171,287,407,534,674,840,1103,
    -57,-171,-287,-407,-534,-674,-840,-1103
  },
  // Linear part slope: 132
  {
    61,185,312,442,581,733,915,1202,
    -61,-185,-312,-442,-581,-733,-915,-1202
  },
  // Linear part slope: 142.667
  {
    66,200,338,478,628,794,992,1305,
    -66,-200,-338,-478,-628,-794,-992,-1305
  },
  // Linear part slope: 154.667
  {
    71,217,365,518,681,861,1076,1416,
    -71,-217,-365,-518,-681,-861,-1076,-1416
  },
  // Linear part slope: 167.667
  {
    77,235,395,561,738,934,1169,1540,
    -77,-235,-395,-561,-738,-934,-1169,-1540
  },
  // Linear part slope: 181.333
  {
    83,253,426,605,797,1010,1265,1668,
    -83,-253,-426,-605,-797,-1010,-1265,-1668
  },
  // Linear part slope: 196
  {
    90,272,459,652,860,1090,1368,1806,
    -90,-272,-459,-652,-860,-1090,-1368,-1806
  },
  // Linear part slope: 212.333
  {
    97,294,496,706,931,1182,1484,1960,
    -97,-294,-496,-706,-931,-1182,-1484,-1960
  },
  // Linear part slope: 229.667
  {
    105,318,537,763,1007,1279,1607,2125,
    -105,-318,-537,-763,-1007,-1279,-1607,-2125
  },
  // Linear part slope: 248.333
  {
    112,342,578,823,1087,1382,1738,2301,
    -112,-342,-578,-823,-1087,-1382,-1738,-2301
  },
  // Linear part slope: 268
  {
    121,369,624,888,1173,1493,1881,2491,
    -121,-369,-624,-888,-1173,-1493,-1881,-2491
  },
  // Linear part slope: 289
  {
    131,398,672,957,1265,1611,2030,2690,
    -131,-398,-672,-957,-1265,-1611,-2030,-2690
  },
  // Linear part slope: 312.333
  {
    141,428,723,1032,1365,1740,2194,2908,
    -141,-428,-723,-1032,-1365,-1740,-2194,-2908
  },
  // Linear part slope: 337.667
  {
    152,463,782,1115,1476,1882,2374,3150,
    -152,-463,-782,-1115,-1476,-1882,-2374,-3150
  },
  // Linear part slope: 365
  {
    164,500,846,1206,1595,2034,2569,3408,
    -164,-500,-846,-1206,-1595,-2034,-2569,-3408
  },
  // Linear part slope: 393.667
  {
    177,539,911,1299,1720,2195,2772,3679,
    -177,-539,-911,-1299,-1720,-2195,-2772,-3679
  },
  // Linear part slope: 424.667
  {
    190,581,982,1401,1855,2367,2991,3972,
    -190,-581,-982,-1401,-1855,-2367,-2991,-3972
  },
  // Linear part slope: 458.667
  {
    205,625,1058,1510,2001,2554,3229,4290,
    -205,-625,-1058,-1510,-2001,-2554,-3229,-4290
  },
  // Linear part slope: 494.667
  {
    221,674,1141,1628,2158,2755,3485,4632,
    -221,-674,-1141,-1628,-2158,-2755,-3485,-4632
  },
  // Linear part slope: 533.333
  {
    237,725,1228,1754,2325,2970,3757,4996,
    -237,-725,-1228,-1754,-2325,-2970,-3757,-4996
  },
  // Linear part slope: 574.667
  {
    255,781,1323,1890,2505,3201,4051,5389,
    -255,-781,-1323,-1890,-2505,-3201,-4051,-5389
  },
  // Linear part slope: 620
  {
    275,842,1426,2037,2702,3452,4369,5814,
    -275,-842,-1426,-2037,-2702,-3452,-4369,-5814
  },
  // Linear part slope: 668
  {
    296,907,1537,2195,2911,3721,4712,6272,
    -296,-907,-1537,-2195,-2911,-3721,-4712,-6272
  },
  // Linear part slope: 720.667
  {
    318,977,1656,2366,3139,4013,5082,6766,
    -318,-977,-1656,-2366,-3139,-4013,-5082,-6766
  },
  // Linear part slope: 777
  {
    343,1053,1785,2551,3384,4328,5482,7299,
    -343,-1053,-1785,-2551,-3384,-4328,-5482,-7299
  },
  // Linear part slope: 839
  {
    369,1135,1925,2752,3652,4670,5916,7880,
    -369,-1135,-1925,-2752,-3652,-4670,-5916,-7880
  },
  // Linear part slope: 905.667
  {
    398,1224,2077,2969,3941,5040,6384,8505,
    -398,-1224,-2077,-2969,-3941,-5040,-6384,-8505
  },
  // Linear part slope: 977.667
  {
    429,1321,2241,3205,4254,5440,6890,9178,
    -429,-1321,-2241,-3205,-4254,-5440,-6890,-9178
  },
  // Linear part slope: 1056.33
  {
    462,1426,2420,3461,4595,5876,7442,9913,
    -462,-1426,-2420,-3461,-4595,-5876,-7442,-9913
  },
  // Linear part slope: 1141
  {
    499,1539,2613,3738,4962,6346,8037,10707,
    -499,-1539,-2613,-3738,-4962,-6346,-8037,-10707
  },
  // Linear part slope: 1233.33
  {
    538,1662,2824,4040,5362,6855,8679,11558,
    -538,-1662,-2824,-4040,-5362,-6855,-8679,-11558
  },
  // Linear part slope: 1332.67
  {
    580,1796,3051,4366,5794,7408,9376,12485,
    -580,-1796,-3051,-4366,-5794,-7408,-9376,-12485
  },
  // Linear part slope: 1442.33
  {
    625,1939,3298,4719,6266,8008,10132,13484,
    -625,-1939,-3298,-4719,-6266,-8008,-10132,-13484
  },
  // Linear part slope: 1560.33
  {
    673,2094,3563,5103,6775,8658,10949,14567,
    -673,-2094,-3563,-5103,-6775,-8658,-10949,-14567
  },
  // Linear part slope: 1689
  {
    727,2267,3859,5525,7334,9366,11834,15729,
    -727,-2267,-3859,-5525,-7334,-9366,-11834,-15729
  },
  // Linear part slope: 1830
  {
    783,2453,4179,5983,7943,10139,12795,16989,
    -783,-2453,-4179,-5983,-7943,-10139,-12795,-16989
  },
  // Linear part slope: 1982.67
  {
    844,2656,4528,6483,8604,10977,13838,18355,
    -844,-2656,-4528,-6483,-8604,-10977,-13838,-18355
  },
  // Linear part slope: 2152
  {
    915,2881,4906,7028,9337,11901,14978,19790,
    -915,-2881,-4906,-7028,-9337,-11901,-14978,-19790
  },
  // Linear part slope: 2331.33
  {
    986,3122,5324,7629,10116,12880,16196,21370,
    -986,-3122,-5324,-7629,-10116,-12880,-16196,-21370
  },
  // Linear part slope: 2526.67
  {
    1075,3393,5784,8282,10973,13964,17524,23011,
    -1075,-3393,-5784,-8282,-10973,-13964,-17524,-23011
  },
  // Linear part slope: 2738.33
  {
    1165,3680,6276,8987,11895,15112,18914,24787,
    -1165,-3680,-6276,-8987,-11895,-15112,-18914,-24787
  },
  // Linear part slope: 2975
  {
    1264,3989,6822,9762,12914,16392,20468,26712,
    -1264,-3989,-6822,-9762,-12914,-16392,-20468,-26712
  },
  // Linear part slope: 3608
  {
    1531,4830,8253,11823,15654,19850,24813,32767,
    -1531,-4830,-8253,-11823,-15654,-19850,-24813,-32767
  }
};

} // namespace dd4a

} // namespace sac
